{% comment %}
templates/product.listing.liquid
{% endcomment %}
{% layout none %}

{% liquid
  assign current_variant = product.selected_or_first_available_variant
  assign product_variant_form = 'product-form-' | append: product.id | append: '-' | append: block.id
%}
{% capture product_form_config %}
{ "money_format": {{ shop.money_format | json }},
  "enable_history": false,
  "sold_out": {{ "products.product.sold_out" | t | json }},
  "button": {{ 'products.product.add_to_cart' | t | json }},
  "unavailable": {{ 'products.product.unavailable' | t | json }},
  "in_stock": {{ 'products.product.in_stock' | t | json }},
  "quickview": false,
  "featured_product": false,
  "swatches": {{ settings.product_variants | json }},
  "swatch_style": {{ settings.color_swatch_style | json }},
  "product_set": {{ true | json }}
}
{% endcapture %}
{%
  render 'product-variants',
  product: product,
  block: block,
  section: section,
  type: section,
  product_type: 'product',
  current_variant: current_variant,
  product_form_config: product_form_config,
  form_id: product_variant_form
%}