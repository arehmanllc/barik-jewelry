{% comment %} Linkliset Logic {% endcomment %}
{%- liquid

  assign section_padding = ''
  if section.settings.section_padding == 'top'
    assign section_padding = 'pb0'
  elsif section.settings.section_padding == 'bottom'
    assign section_padding = 'mt0'
  elsif section.settings.section_padding == 'none'
    assign section_padding = 'mt0 pb0'
  endif

-%}

{% comment %} Linklist Template {% endcomment %}
<div class="simple-linklist-section grid__wrapper global__section {{ section_padding }} {% if request.visual_preview_mode %}preview-mode{% endif %}"
  data-section-id="{{ section.id }}"
  data-section-type="linklist-section"
  data-section-loaded="false">

  <div class="linklist-section__container span-12 auto">
    <div class="linklist-section__wrapper {{ section.settings.alignment }}">
      {% for link in linklists[section.settings.menu].links %}
        <a class="linklist-section__link mx3 mb0 animate--text delay--{{ forloop.index }}" href="{{ link.url }}" title="{{ link.title | escape }}">{{ link.title | escape }}</a>
      {%- endfor -%}
    </div>
  </div>
  <style>
    @media (max-width: 767px) {
      .linklist-section__container {
        display: flex;
        overflow-x: scroll;
        white-space: nowrap;
        align-items: center;
        height: 40px;
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .linklist-section__wrapper {
        width: 1600px;
      }
    }
    .linklist-section__link {
      display: inline-block;
      text-transform: uppercase;
      cursor: pointer;
      padding-bottom: 2px;
      border-bottom: 1px solid transparent;
      transition: border-bottom 0.4s ease-out;
      font-size: var(--font-size-sm);
    }
    {% unless section.settings.color_scheme == 'none' %}
      #shopify-section-{{ section.id }} {
        background-color: var(--scheme-{{ section.settings.color_scheme }}-bg) !important;
      }
      #shopify-section-{{ section.id }} a {
        color: var(--scheme-{{ section.settings.color_scheme }}-text) !important;
      }
      #shopify-section-{{ section.id }} a:hover {
        color: var(--scheme-{{ section.settings.color_scheme }}-hover) !important;
        border-bottom: 1px solid var(--scheme-{{ section.settings.color_scheme }}-hover) !important;
      }
    {% endunless %}
  </style>
</div>

{% schema %}
{
  "name": "Linklist",
  "tag": "section",
  "class": "dynamic-section",
  "settings": [
    {
      "type": "paragraph",
      "content": "A simple horizontal linklist. Will only show top level links within selected navigation."
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Linklist",
      "default": "main-menu"
    },
    {
      "type": "select",
      "id": "alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "a-left",
          "label": "Left"
        },
        {
          "value": "a-center",
          "label": "Center"
        }
      ],
      "default": "a-center"
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "1",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "1",
          "label": "1"
        },
        {
          "value": "2",
          "label": "2"
        },
        {
          "value": "3",
          "label": "3"
        }
      ]
    },
    {
      "type": "select",
      "id": "section_padding",
      "label": "Section spacing",
      "options": [
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "bottom",
          "label": "Bottom"
        },
        {
          "value": "both",
          "label": "Both"
        },
        {
          "value": "none",
          "label": "None"
        }
      ],
      "default": "both",
      "visible_if": "{{ settings.section_padding > 0 }}"
    }
  ],
  "presets": [
    {
      "name": "Linklist"
    }
  ],
  "disabled_on": {
    "groups": ["header", "footer"]
  }
}
{% endschema %}
